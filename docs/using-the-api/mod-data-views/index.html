<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.76.4" />

<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">



<link rel="icon"  href="/spotfire-mods/favicons/favicon.ico" >



<title>Mod data views | Spotfire® Mods</title><meta property="og:title" content="Mod data views" />
<meta property="og:description" content="This page gives you an introduction to the mod data views.
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/spotfire-mods/docs/using-the-api/mod-data-views/" />
<meta property="article:published_time" content="2020-11-06T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-11-06T00:00:00+00:00" /><meta property="og:site_name" content="Spotfire® Mods" />
<meta itemprop="name" content="Mod data views">
<meta itemprop="description" content="This page gives you an introduction to the mod data views.
">
<meta itemprop="datePublished" content="2020-11-06T00:00:00+00:00" />
<meta itemprop="dateModified" content="2020-11-06T00:00:00+00:00" />
<meta itemprop="wordCount" content="1418">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Mod data views"/>
<meta name="twitter:description" content="This page gives you an introduction to the mod data views.
"/>





<link rel="preload" href="/spotfire-mods/scss/main.min.38dc1f709939996fce1dd5bcc7ebd1096699d95839d4910fff70e7b25eeb6ff0.css" as="style">
<link href="/spotfire-mods/scss/main.min.38dc1f709939996fce1dd5bcc7ebd1096699d95839d4910fff70e7b25eeb6ff0.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>


    <title>Mod data views | Spotfire® Mods</title>
  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/spotfire-mods/">
		<span class="navbar-logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 260 26"><polygon points="0 2.142 0 4.631 6.756 4.631 6.756 21.582 9.347 21.582 9.347 4.631 16.103 4.631 16.103 2.142 0 2.142" style="fill:#fff"/><rect x="19.187" y="2.142" width="2.592" height="19.44" style="fill:#fff"/><path d="M36.147 11.567c2.16-.809 3.3-2.271 3.3-4.262.0-3.048-2.066-5.163-6.725-5.163H26.337v19.44h6.571c4.967.0 7.157-2.208 7.157-5.5C40.065 13.9 38.708 12.22 36.147 11.567zm-7.188-7h3.98c2.53.0 3.887 1.089 3.887 2.955.0 1.9-1.512 3.142-4.288 3.142H28.959zm4.2 14.589h-4.2v-6.1h3.795c2.715.0 4.689.808 4.689 3.048C37.443 18.13 36.024 19.157 33.155 19.157z" style="fill:#fff"/><path d="M51.947 19.685c-4.226.0-7.065-3.08-7.065-7.9s2.808-7.745 7-7.745A8.985 8.985.0 0157.16 5.688l.833-2.395a12.063 12.063.0 00-6.108-1.618c-5.614.0-9.656 4.044-9.656 10.234s4.011 10.14 9.656 10.14a11.586 11.586.0 005.954-1.617l-.432-2.644A9.259 9.259.0 0151.947 19.685z" style="fill:#fff"/><path d="M72.987 2.562c-2.52 4.872-7.1 10.667-13.159 13.964a9.246 9.246.0 001.314 2.139A40.1 40.1.0 0073.879 3.047 8.9 8.9.0 0072.987 2.562z" style="fill:#fff"/><path d="M68.57 1.618c-5.668.0-9.672 4.41-9.672 10.218a12.52 12.52.0 00.3 2.765c5.8-2.383 10.95-7.636 13.562-12.143A10.369 10.369.0 0068.57 1.618z" style="fill:#fff"/><path d="M74.1 3.184A47.341 47.341.0 0162.87 20.264a9.823 9.823.0 005.7 1.7c5.668.0 9.671-4.442 9.671-10.25C78.241 7.863 76.661 4.878 74.1 3.184z" style="fill:#fff"/><path d="M188.584.0a2.514 2.514.0 00-2.49 2.525V2.54a2.49 2.49.0 104.979-.015V2.511A2.493 2.493.0 00188.584.0zm2.2 2.525a2.2 2.2.0 11-4.407.015V2.525a2.2 2.2.0 114.407-.014zm-1.059-.52c0-.533-.414-.807-.973-.807H187.61V3.751h.487v-.88h.53l.6.88h.586l-.673-.966A.768.768.0 00189.728 2.005zm-1.015.462H188.1V1.631h.616c.329.0.515.144.515.418C189.228 2.294 189.042 2.467 188.713 2.467z" style="fill:#fff"/><polygon points="212.126 2.128 204.004 13.953 195.856 2.128 194.975 2.128 194.975 21.558 195.883 21.558 195.883 3.765 203.95 15.424 204.004 15.424 212.071 3.765 212.071 21.558 213.007 21.558 213.007 2.128 212.126 2.128" style="fill:#fff"/><path d="M223.551 7.235a7.174 7.174.0 00-7.213 7.328v.056a7.186 7.186.0 1014.371-.056v-.055A7.1 7.1.0 00223.551 7.235zm6.222 7.356a6.24 6.24.0 11-12.472.0v-.056A6.212 6.212.0 01223.5 8.068a6.315 6.315.0 016.278 6.467z" style="fill:#fff"/><path d="M245.822 1.3V11.371a6.47 6.47.0 00-6.139-4.136 6.981 6.981.0 00-6.855 7.3v.056a6.965 6.965.0 006.855 7.3 6.532 6.532.0 006.139-4.192v3.858h.881V1.3zm.055 13.3a6.225 6.225.0 01-6.111 6.44c-3.442.0-6-2.776-6-6.468v-.055c0-3.748 2.5-6.412 6-6.412a6.242 6.242.0 016.111 6.439z" style="fill:#fff"/><path d="M255.182 13.98c-2.257-.638-4.212-1.277-4.212-3.025V10.9c0-1.554 1.514-2.748 3.8-2.748a7.831 7.831.0 014.4 1.471l.5-.749A8.96 8.96.0 00254.8 7.318c-2.836.0-4.735 1.583-4.735 3.664v.056c0 2.332 2.23 3.053 4.817 3.8 2.12.583 4.213 1.194 4.213 3.164v.056c0 1.721-1.735 2.914-3.965 2.914a8.474 8.474.0 01-5.176-1.915l-.523.694a9.1 9.1.0 005.644 2.054c2.781.0 4.928-1.527 4.928-3.83v-.056C260 15.479 257.715 14.674 255.182 13.98z" style="fill:#fff"/><path d="M94.3 10.788c-4.239-.916-5.231-1.943-5.231-3.775V6.957c0-1.748 1.6-3.136 4.1-3.136A8.425 8.425.0 0198.73 5.93L1e2 4.237A10 10 0 0093.223 1.85c-3.661.0-6.332 2.248-6.332 5.3v.055c0 3.193 2.038 4.636 6.47 5.608 4.047.86 5.011 1.887 5.011 3.691v.056c0 1.915-1.707 3.3-4.3 3.3a9.139 9.139.0 01-6.607-2.748l-1.349 1.61A11.224 11.224.0 0094 21.836c3.826.0 6.579-2.165 6.579-5.5v-.056C100.574 13.314 98.592 11.732 94.3 10.788z" style="fill:#fff"/><path d="M111.117 6.9a6.392 6.392.0 00-5.451 3.192V7.207h-2.12V26h2.12V18.81a6.411 6.411.0 005.451 3.054c3.442.0 6.8-2.776 6.8-7.467v-.056C117.917 9.622 114.531 6.9 111.117 6.9zm4.625 7.522c0 3.47-2.257 5.524-5.01 5.524a5.321 5.321.0 01-5.149-5.551v-.056a5.332 5.332.0 015.149-5.524c2.7.0 5.01 2.165 5.01 5.552z" style="fill:#fff"/><path d="M127.276 6.9a7.4 7.4.0 00-7.433 7.5v.055a7.323 7.323.0 007.378 7.44 7.422 7.422.0 007.461-7.495v-.056A7.346 7.346.0 00127.276 6.9zm5.231 7.55a5.276 5.276.0 01-5.231 5.524 5.364 5.364.0 01-5.258-5.579v-.056a5.279 5.279.0 015.2-5.552 5.412 5.412.0 015.286 5.608z" style="fill:#fff"/><path d="M144.784 9.1V7.207h-4.515V2.877h-2.12v4.33h-1.982V9.1h1.982v8.66c0 2.915 1.734 4.053 4.019 4.053a5.3 5.3.0 002.561-.611V19.366a4.427 4.427.0 01-2.065.5 2.114 2.114.0 01-2.395-2.387V9.1z" style="fill:#fff"/><path d="M152.794 3.044a7.024 7.024.0 012.064.36V1.545a6.384 6.384.0 00-2.34-.361 4.167 4.167.0 00-3.055 1.11 5.087 5.087.0 00-1.239 3.692V7.235h-1.955V9.1h1.955V21.558h2.12V9.1h4.487V7.263h-4.515V6.1C150.316 4.043 151.142 3.044 152.794 3.044z" style="fill:#fff"/><rect x="157.584" y="1.711" width="2.423" height="2.359" style="fill:#fff"/><rect x="157.75" y="7.207" width="2.092" height="14.351" style="fill:#fff"/><path d="M165.814 10.955V7.207h-2.12V21.558h2.12V15.84c0-4.33 2.533-6.578 5.644-6.578h.165V6.957A6.1 6.1.0 00165.814 10.955z" style="fill:#fff"/><path d="M185.719 14.508c0-4.219-2.423-7.606-6.635-7.606-3.937.0-6.827 3.331-6.827 7.5a7.113 7.113.0 007.1 7.495 7.326 7.326.0 005.865-2.693L183.9 18.005a5.869 5.869.0 01-4.487 2.027 4.991 4.991.0 01-5.011-4.775h11.287C185.719 14.924 185.719 14.7 185.719 14.508zM174.4 13.536c.3-2.776 2.175-4.83 4.625-4.83 2.808.0 4.3 2.221 4.542 4.83z" style="fill:#fff"/><path d="M81.876 2.005c0-.533-.415-.807-.973-.807H79.758V3.751h.486v-.88h.53l.6.88h.587l-.673-.966A.768.768.0 0081.876 2.005zm-1.016.462h-.616V1.631h.616c.329.0.515.144.515.418C81.375 2.294 81.189 2.467 80.86 2.467zM80.731.0a2.514 2.514.0 00-2.49 2.525V2.54a2.49 2.49.0 104.98-.015V2.511A2.493 2.493.0 0080.731.0zm2.2 2.525a2.2 2.2.0 11-4.408.015V2.525a2.2 2.2.0 114.408-.014z" style="fill:#fff"/></svg></span><span class="text-uppercase font-weight-bold"></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/spotfire-mods/about/" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/spotfire-mods/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/spotfire-mods/overview/" ><span>API Overview</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/spotfire-mods/api-docs/index.html" ><span>API Documentation</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"></div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/spotfire-mods/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="spotfire-modsdocs">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-spotfire-modsdocsgetting-started" href="/spotfire-mods/docs/getting-started/">Getting started</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/spotfire-mods/docs/using-the-api/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Using the API</a>
  </li>
  <ul>
    <li class="collapse show" id="spotfire-modsdocsusing-the-api">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-spotfire-modsdocsusing-the-apiapi-overview" href="/spotfire-mods/docs/using-the-api/api-overview/">API overview</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-spotfire-modsdocsusing-the-apiapi-docs" href="/spotfire-mods/docs/using-the-api/api-docs/">API documentation</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-spotfire-modsdocsusing-the-apimod-data-views" href="/spotfire-mods/docs/using-the-api/mod-data-views/">Mod data views</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-spotfire-modsdocsusing-the-apimod-schema" href="/spotfire-mods/docs/using-the-api/mod-schema/">Mod schema</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-spotfire-modsdocsusing-the-apiworking-with-readables" href="/spotfire-mods/docs/using-the-api/working-with-readables/">Mod reader</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/spotfire-mods/docs/tutorials/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tutorials</a>
  </li>
  <ul>
    <li class="collapse " id="spotfire-modsdocstutorials">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-spotfire-modsdocstutorialsbarchart-googlechart" href="/spotfire-mods/docs/tutorials/barchart-googlechart/">Create a bar chart using Google Charts</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-spotfire-modsdocstutorialsmod-icons" href="/spotfire-mods/docs/tutorials/mod-icons/">Create an icon for your visualization mod</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">






<a href="https://github.com/TIBCOSoftware/spotfire-mods//issues/new?title=Mod%20data%20views" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/TIBCOSoftware/spotfire-mods//issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#data-view-definition">Data view definition</a></li>
    <li><a href="#consuming-data-from-javascript">Consuming data from JavaScript</a>
      <ul>
        <li><a href="#the-data-view-object">The data view object</a></li>
        <li><a href="#dataviewcontinuousvalue-and-dataviewcategoricalvalue">DataViewContinuousValue and DataViewCategoricalValue</a></li>
        <li><a href="#hierarchies">Hierarchies</a></li>
        <li><a href="#data-type-mapping">Data type mapping</a></li>
      </ul>
    </li>
    <li><a href="#specifying-data-types-for-continuous-axes">Specifying data types for continuous axes</a></li>
    <li><a href="#using-the-spotfire-color-axis">Using the Spotfire color axis</a></li>
    <li><a href="#using-multiple-measures-on-continuous-axes">Using multiple measures on continuous axes</a></li>
    <li><a href="#using-non-aggregating-expressions-on-a-continuous-axes">Using non-aggregating expressions on a continuous axes</a></li>
    <li><a href="#data-view-sort-order">Data view sort order</a></li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="/spotfire-mods/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="/spotfire-mods/docs/using-the-api/">Using the API</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="/spotfire-mods/docs/using-the-api/mod-data-views/">Mod data views</a>
</li>

	</ol>
</nav	>

            



<p class="-text-primary pt-3 h6" >Reading time: 6 minutes and 45 seconds.</p>
<p>
<div class="td-content">
	<h1>Mod data views</h1>
	<div class="lead">This page gives you an introduction to the mod data views.</div>
	<h2 id="data-view-definition">Data view definition</h2>
<p>A mod can create a single aggregated data view.</p>
<p>The data view is declared in the mod manifest. Its content is specified as a number of axes. The Spotfire UI will provide controls to set actual columns/expressions used to build the data view in runtime.</p>
<p>In the simplest form, the data view definition part of a mod manifest could look like this.</p>
<pre><code>&quot;dataViewDefinition&quot;: {  
    &quot;axes&quot;: [  
        {
            &quot;name&quot;: &quot;Y&quot;,  
            &quot;mode&quot;: &quot;continuous&quot; 
        }  
    ]  
}
</code></pre>
<p>This specifies that the mod will have a single continuous axis called Y, that will compute a single aggregated value, e.g. Sum(Sales). Continuous axes are typically rendered on a continuous scale.</p>
<!-- ![Bar Chart 1](BarChart1.png) -->
<img src="BarChart1.PNG">
<p>The &ldquo;mode&rdquo; parameter can be &ldquo;continuous&rdquo;, &ldquo;categorical&rdquo; or &ldquo;dual&rdquo;. Dual means that the axis supports both continuous and categorical mode and can be switched between them.</p>
<p>A categorical axis always splits the aggregation. The columns/expressions on the axes are used in the group by clause in the aggregated query generated for the visualization. Categorical axes are typically rendered on a categorical, or discrete, scale.</p>
<p>If we continue the example above we could add a categorical x axis to the visualization.</p>
<pre><code>&quot;dataViewDefinition&quot;: {  
    &quot;axes&quot;: [  
        {
            &quot;name&quot;: &quot;X&quot;,  
            &quot;mode&quot;: &quot;categorical&quot;,  
        },
        {
            &quot;name&quot;: &quot;Y&quot;,  
            &quot;mode&quot;: &quot;continuous&quot;,  
        }
    ]  
}
</code></pre>
<p>That could be rendered like this:</p>
<!-- ![Bar Chart 2](BarChart2.png) -->
<img src="BarChart2.PNG">
<p>It is always possible to add more columns to the expression on a categorical axis. This will split the aggregation further, and Spotfire usually renders this as a hierarchy.</p>
<!-- ![Bar Chart 3](BarChart3.png) -->
<img src="BarChart3.PNG">
<h2 id="consuming-data-from-javascript">Consuming data from JavaScript</h2>
<h3 id="the-data-view-object">The data view object</h3>
<p>On the javascript side data is retrieved via a <a href="/spotfire-mods/api-docs/interfaces/dataview.html">DataView</a> object. The data view has methods for retrieving data rows and information about the current axes that has data mapped to them. The methods on the data view are asynchronous so you need to await their result.</p>
<p>There are two methods available to retrieve the value for an axis in a data row.  Depending on the mode of the axis that is being queried there is a <a href="/spotfire-mods/api-docs/interfaces/dataviewrow.html#continuous">continuous</a> method for continuous axes and a  <a href="/spotfire-mods/api-docs/interfaces/dataviewrow.html#categorical">categorical</a> method for categorical axes. So, assuming that the Y axis is continuous, you would do the following to get its value:</p>
<pre><code>let yValue = row.continuous(&quot;Y&quot;);
</code></pre>
<p>The value retrieved by these methods can be of two types depending on which one is called. Either it is a <a href="/spotfire-mods/api-docs/interfaces/dataviewcontinuousvalue.html">DataViewContinuousValue</a>, or it is a <a href="/spotfire-mods/api-docs/interfaces/dataviewcategoricalvalue.html">DataViewCategoricalValue</a>. To list all values of a data view in csv like format, you could do this:</p>
<pre><code>async function logDataView(dataView)
{
    // Print axes names
    const axes = await dataView.axes();
    console.log(axes.map(axis =&gt; axis.name).join(&quot;,&quot;));
   
    // Print the row values.
    const rows = await dataView.allRows();
    rows.forEach(row =&gt; {
        console.log(axes.map(axis =&gt; {
            if(axis.isCategorical){
               return row.categorical(axis.name).fullName()
            }                
            return row.continuous(axis.name).value()
        }).join(&quot;,&quot;));
        
    });
}
</code></pre>
<p>For the simple bar chart above showing sales per fruit, the output would be:</p>
<pre><code>X,Y
Apples,16000
Oranges,31000 
</code></pre>
<h3 id="dataviewcontinuousvalue-and-dataviewcategoricalvalue">DataViewContinuousValue and DataViewCategoricalValue</h3>
<p>A <a href="/spotfire-mods/api-docs/interfaces/dataviewcontinuousvalue.html">DataViewContinuousValue</a> is a simple object with methods to retrieve the actual value (<a href="/spotfire-mods/api-docs/interfaces/dataviewcontinuousvalue.html#value">value</a>), and to get a string representation of it (<a href="/spotfire-mods/api-docs/interfaces/dataviewcontinuousvalue.html#formattedvalue">formattedValue</a>).</p>
<p>A <a href="/spotfire-mods/api-docs/interfaces/dataviewcategoricalvalue.html">DataViewCategoricalValue</a> on the other hand is a bit more complicated. Since categorical axes form hierarchies, each <a href="/spotfire-mods/api-docs/interfaces/dataviewcategoricalvalue.html">DataViewCategoricalValue</a> is made up from parts describing the path in the hierarchy. However, a mod developer may choose to ignore this and treat the whole path as a single value as seen in the simple code example above. For the third bar chart example above, the output from the logDataView function would be:</p>
<pre><code>X,Y
Apples &gt;&gt; Spain,2500
Apples &gt;&gt; USA,13500
Oranges &gt;&gt; Spain,12000
Oranges &gt;&gt; USA,19000
</code></pre>
<p>If, on the other hand, you want to access all parts of the path this can be done via the <a href="/spotfire-mods/api-docs/interfaces/dataviewcategoricalvalue.html#path">path</a> property that returns an array of <a href="/spotfire-mods/api-docs/interfaces/dataviewcategoricalvaluepathelement.html">DataViewCategoricalValuePathElement</a> objects. There is also a <a href="/spotfire-mods/api-docs/interfaces/dataviewcategoricalvalue.html#leafindex">leafIndex</a> property, which is the index of this value among the leaves in the hierarchy generated for the axis. This leads us to the next subject.</p>
<h3 id="hierarchies">Hierarchies</h3>
<p>Another way to access the data in the data view is to go via hierarchies. These are represented by <a href="/spotfire-mods/api-docs/interfaces/dataviewhierarchy.html">DataViewHierarchy</a> objects that can be retrieved for all categorical axes. Either via the <a href="/spotfire-mods/api-docs/interfaces/dataviewcategoricalaxis.html#hierarchy">hierarchy</a> property on the axis you get via getAxis, or via the <a href="/spotfire-mods/api-docs/interfaces/dataview.html#hierarchy">hierarchy</a> function on the data view.</p>
<p>The hierarchy is a tree structure with some metadata about the levels, and methods to retrieve the root of the tree (<a href="/spotfire-mods/api-docs/interfaces/dataviewhierarchy.html#root">root</a>), or the array of leaf nodes (<a href="/spotfire-mods/api-docs/interfaces/dataviewhierarchy.html#leaves">leaves</a>). If you care about the hierarchical structure, you would traverse from the root. If not, you would just use the leaves.</p>
<p>Each node in the tree can be mapped to rows in the data view. The following sample shows how to traverse the data view for a bar chart above from the x hierarchy:</p>
<pre><code>async function logViaHierarchy(dataView)
{
    const xHierarchy = await dataView.hierarchy(&quot;X&quot;, true);
    const root = await xHierarchy.root();
    log(root, &quot;&quot;);

    function log(node, indent) {
        console.log(indent + node.name);
        indent += &quot;    &quot;;
        if(node.children) {
            node.children.forEach(node =&gt; log(node, indent));
        } 
        else {
            node.rows().forEach(row =&gt; console.log(indent + row.continuous(&quot;Y&quot;).value()))
        }
    }
}
</code></pre>
<p>This would produce the following output (the root has no name):</p>
<pre><code>Apples
     Spain
         2500
     USA
         13500
 Oranges
     Spain
         12000
     USA
         19000
</code></pre>
<h3 id="data-type-mapping">Data type mapping</h3>
<p>Columns and expressions in Spotfire can have a number of different data types. When reading data in JavaScript these types are mapped to corresponding JavaScript types as follows:</p>
<table>
<thead>
<tr>
<th>Spotfire data type</th>
<th>JavaScript data type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Integer</td>
<td>number</td>
</tr>
<tr>
<td>LongInteger</td>
<td>number</td>
</tr>
<tr>
<td>Real</td>
<td>number</td>
</tr>
<tr>
<td>SingleReal</td>
<td>number</td>
</tr>
<tr>
<td>Currency</td>
<td>number</td>
</tr>
<tr>
<td>Date</td>
<td>Date</td>
</tr>
<tr>
<td>DateTime</td>
<td>Date</td>
</tr>
<tr>
<td>Time</td>
<td>Custom object <a href="/spotfire-mods/api-docs/interfaces/time.html">Time</a></td>
</tr>
<tr>
<td>TimeSpan</td>
<td>Custom objecet <a href="/spotfire-mods/api-docs/interfaces/timespan.html">TimeSpan</a></td>
</tr>
<tr>
<td>Boolean</td>
<td>boolean</td>
</tr>
<tr>
<td>String</td>
<td>string</td>
</tr>
<tr>
<td>Binary</td>
<td>Not supported</td>
</tr>
</tbody>
</table>
<p>Note that some types may have a higher precision in Spotfire than can be represented by the native JavaScript types. For instance the JavaScript Date type has a precision of 1 millisecond, while Spotfire internally has a precision of 100 nanoseconds. The numeric data types LongInteger and Currency, as well as the TimeSpan data type, may also suffer from precision loss.</p>
<h2 id="specifying-data-types-for-continuous-axes">Specifying data types for continuous axes</h2>
<p>Categorical axes basically treat all data types the same way. The data is ordered and its string representation is used.
For continuous axes it is possible to specify what data types should be supported. By default, they allow only numeric data. You may also choose to allow additional data types by specifying it in the axis section of the manifest. For instance to support date and time data, you would specify the following:</p>
<pre><code>&quot;dataTypes&quot;: {
    &quot;allowDateTime&quot;: true,
    &quot;allowNumeric&quot;: true
}
</code></pre>
<p>In addition to these two flags, there are also flags to turn on support for strings, booleans and time spans.</p>
<h2 id="using-the-spotfire-color-axis">Using the Spotfire color axis</h2>
<p>Mods can use the same color axis as is used by the native Spotfire visualizations. You do this by specifying a &ldquo;colorAxis&rdquo; entry in the data view definition section of the manifest:</p>
<pre><code>&quot;dataViewDefinition&quot;: {
    &quot;colorAxis&quot;: {
        &quot;mode&quot;: &quot;dual&quot;
    }
</code></pre>
<p>The &ldquo;mode&rdquo; and other properties for the color axis are specified the same way as for other axes.</p>
<p>On the Javascript side you access the data values for the color axis by referring to it by its name, &ldquo;Color&rdquo;.
The actual color computed for each row can be retrieved via the <a href="/spotfire-mods/api-docs/interfaces/dataviewrow.html#color">color</a> function on a row. It returns an object with the color hexcode.</p>
<h2 id="using-multiple-measures-on-continuous-axes">Using multiple measures on continuous axes</h2>
<p>By default you can only have a single measure on a continuous axis. However Spotfire allows having one axis with multiple measures on it. To turn this on, you set the &ldquo;allowMultipleMeasures&rdquo; flag to true for the axis in the manifest.</p>
<p>When an axis has multiple measures, Spotfire will place each measure on its own row in the data view. This also requires the special &ldquo;(Column Names)&rdquo; expression, [Axis.Default.Names] in the expression language, to be used on a categorical axis in the visualization.</p>
<h2 id="using-non-aggregating-expressions-on-a-continuous-axes">Using non-aggregating expressions on a continuous axes</h2>
<p>Mod data views are always aggregated, and by default the expressions used on them must be aggregating. To enable non-aggregating expressions, you can set the &ldquo;allowNonAggregatingMeasures&rdquo; flag to true for the axis in the manifest. The Spotfire UIs will then add a (None) option to the aggregation methods. Note that the data view is still aggregated, so the values on the axes will be used to group by in the aggregation.</p>
<h2 id="data-view-sort-order">Data view sort order</h2>
<p>By default, the rows in data views are ordered by the categorical axes (or more specifically by the axes that are used to group by when performing the aggregation), in the order in which they are declared. So for instance if you declare a &ldquo;Column&rdquo; axis followed by a &ldquo;Row&rdquo; axis, the data view will first be sorted by the values on the &ldquo;Column&rdquo; axis and then by the &ldquo;Row&rdquo; axis.</p>
<p>The color axis is currently always last.</p>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/TIBCOSoftware/spotfire-mods/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/TIBCOSoftware/spotfire-mods/issues/new">tell us how we can improve</a>.
</p>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified November 6, 2020
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-4 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Facebook" aria-label="Facebook">
    <a class="text-white" target="_blank" href="https://www.facebook.com/TIBCO">
      <i class="fab fa-facebook"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://twitter.com/tibco">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Linkedin" aria-label="Linkedin">
    <a class="text-white" target="_blank" href="https://www.linkedin.com/company/tibco/">
      <i class="fab fa-linkedin"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/TIBCOSoftware/spotfire-mods/">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="TIBCO Community" aria-label="TIBCO Community">
    <a class="text-white" target="_blank" href="https://community.tibco.com/wiki/">
      <i class="fa fa-comment-alt"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2020 TIBCO Software Inc. All Rights Reserved</small>
        <small class="ml-1"><a href="https://www.tibco.com/company/terms-of-use" target="_blank">Terms of Use</a></small>
	
		<p class="mt-2"><a href="/spotfire-mods/about/">About Spotfire Mods</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>






<script src="/spotfire-mods/js/main.min.4b091be8201409280a59a43f13b4428c78a1c4a3cf7db2d7a7150fa33b6b3475.js" data-integrity="sha256-Swkb6CAUCSgKWaQ/E7RCjHihxKPPfbLXpxUPoztrNHU=" crossorigin="anonymous"></script>



  </body>
</html>